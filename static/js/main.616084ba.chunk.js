(this["webpackJsonpgoit-react-hw-05-phonebook"]=this["webpackJsonpgoit-react-hw-05-phonebook"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(19),i=n.n(o),l=n(56),m=n(15),u=n(26),s=n(81),p=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){throw new Error}},d=function(e){try{var t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(n){throw new Error}},b=Object(m.b)("item/add"),f=Object(m.b)("item/delete"),h=Object(m.b)("contacts/filter",(function(e){return{payload:e.target.value}})),E=[],_=d("contacts");_&&(E=_);var v={contacts:Object(m.c)(E,(a={},Object(u.a)(a,b,(function(e,t){return[].concat(Object(s.a)(e),[t.payload])})),Object(u.a)(a,f,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),a)),filter:Object(m.c)("",Object(u.a)({},h,(function(e,t){return t.payload})))},g=Object(m.a)({reducer:v,devTools:!1}),O=n(73),x=n(74),y=n(83),C=n(82),j=n(75),w=n(62),N=n(61),F=N.a().shape({name:N.b().min(2,"Must be longer than 2 characters").max(20,"Nice try, nobody has a first name that long").required("Enter a name"),number:N.b().min(8,"Must be longer than 8 characters").matches(/([0-9]{8})/,"must be a digits").required("Enter a number")}),I=n(44),k=n.n(I),S=n(79);function M(e){var t=e.addItem,n={id:Object(S.v4)(),name:"",number:""};return c.a.createElement(w.b,{initialValues:n,validationSchema:F,onSubmit:function(e,n){var a=n.resetForm;t(Object(j.a)({},e)),a({})}},(function(e){var t=e.values,n=e.handleChange,a=e.handleSubmit;return c.a.createElement("form",{onSubmit:a},c.a.createElement("input",{type:"text",value:t.name,onChange:n,name:"name",className:k.a.input,placeholder:"Enter name"}),c.a.createElement(w.a,{name:"name"},(function(e){return c.a.createElement("div",{className:k.a.errorMessage},e)})),c.a.createElement("input",{type:"text",value:t.number,onChange:n,name:"number",className:k.a.input,placeholder:"Enter number"}),c.a.createElement(w.a,{name:"number"},(function(e){return c.a.createElement("div",{className:k.a.errorMessage},e)})),c.a.createElement("button",{className:k.a.button,type:"submit"},"Add contact"))}))}var L=n(66),A=n.n(L),J=function(e){var t=e.contact,n=e.name,a=e.number,r=e.deleteContact;return c.a.createElement("li",{className:A.a.wrapper},n,": ",a,c.a.createElement("button",{className:A.a.deleteBtn,onClick:function(){return r(t.id)}},"\ud83d\udfab"))},B=n(102),D=n(101),U=n(67),V=n.n(U),q=n(46),W=n.n(q),z=function(e){var t=e.contactList,n=e.deleteContact;return c.a.createElement(B.a,{component:"ul",className:V.a.list},t.map((function(e){return c.a.createElement(D.a,{key:e.id,classNames:W.a,timeout:500,mountOnEnter:!0,unmountOnExit:!0},c.a.createElement(J,{name:e.name,number:e.number,deleteContact:n,contact:e,className:V.a.item}))})).reverse())},P=n(80),Q=n.n(P),T=function(e){var t=e.handleFilter;return c.a.createElement("form",{className:Q.a.wrapper},c.a.createElement("p",null,"Find contact by name"),c.a.createElement("input",{type:"text",onChange:t}))},X=(n(97),function(e){Object(y.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.setState({didMount:!0})}},{key:"componentDidUpdate",value:function(e,t){p("contacts",this.props.contacts)}},{key:"render",value:function(){var e=this.state.didMount,t=this.props,n=t.contacts,a=t.filter,r=n.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(D.a,{in:e,classNames:W.a,timeout:{enter:500,exit:500},mountOnEnter:!0},c.a.createElement("h2",{className:"title-phonebook"},"Phonebook")),c.a.createElement(M,{contacts:n,addItem:this.props.addItem}),c.a.createElement("h2",null,"Contacts"),c.a.createElement(D.a,{in:n.length>=2,classNames:W.a,timeout:{enter:500,exit:500},mountOnEnter:!0,unmountOnExit:!0},c.a.createElement(T,{handleFilter:this.props.filterContacts})),c.a.createElement(z,{contactList:r,deleteContact:this.props.deleteItem}))}}]),n}(r.Component)),Y={addItem:b,deleteItem:f,filterContacts:h},G=Object(l.b)((function(e,t){return{contacts:e.contacts,filter:e.filter}}),Y)(X),H=(n(98),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(G,null))});n(99);i.a.render(c.a.createElement(c.a.Fragment,null,c.a.createElement(l.a,{store:g},c.a.createElement(H,null))),document.getElementById("root"))},44:function(e,t,n){e.exports={form:"Form_form__2z26W",name:"Form_name__3Ssio",input:"Form_input__2xarV",button:"Form_button__1Y0bx",errorMessage:"Form_errorMessage__8tOcD"}},46:function(e,t,n){e.exports={enter:"slide_enter__-FaUU",enterActive:"slide_enterActive__JI3df",exit:"slide_exit__h4C50",exitActive:"slide_exitActive__2pQji"}},66:function(e,t,n){e.exports={wrapper:"ContactListItem_wrapper__3SVCI",deleteBtn:"ContactListItem_deleteBtn__1xaXe"}},67:function(e,t,n){e.exports={list:"list_list__kFxa5",item:"list_item__1y5L-"}},80:function(e,t,n){e.exports={wrapper:"ContactsFilter_wrapper__3xf4W"}},86:function(e,t,n){e.exports=n(100)},98:function(e,t,n){},99:function(e,t,n){}},[[86,1,2]]]);
//# sourceMappingURL=main.616084ba.chunk.js.map